esphome:
  name: controle_reles_ntp
  platform: ESP8266
  board: nodemcuv2

# ------------------------------------
# 1. WIFI
# ------------------------------------
wifi:
  ssid: ""     // *** MUDAR AQUI *** Nome da sua rede Wi-Fi
  password: "" // *** MUDAR AQUI *** Senha da sua rede Wi-Fi


  ap:
    ssid: "Fallback-Reles"
    password: "12345678"

# ------------------------------------
# 2. LOG
# ------------------------------------
logger:

# ------------------------------------
# 3. OTA (opcional, mas recomendado)
# ------------------------------------
ota:

# ------------------------------------
# 4. TIME (NTP)
# ------------------------------------
time:
  - platform: sntp
    id: horario_atual
    timezone: America/Sao_Paulo
    servers:
      - a.st1.ntp.br

    on_time:
      # ---- LIGA √†s 18:00 ----
      - seconds: 0
        minutes: 0
        hours: 18
        then:
          - logger.log: "‚ö° Rel√©s LIGADOS (Noite)"
          - switch.turn_on: rele_1
          - switch.turn_on: rele_2
          - switch.turn_on: rele_3

      # ---- DESLIGA √†s 06:00 ----
      - seconds: 0
        minutes: 0
        hours: 6
        then:
          - logger.log: "üí§ Rel√©s DESLIGADOS (Dia)"
          - switch.turn_off: rele_1
          - switch.turn_off: rele_2
          - switch.turn_off: rele_3

# ------------------------------------
# 5. REL√âS
# ------------------------------------
switch:
  - platform: gpio
    name: "Rel√© 1"
    id: rele_1
    pin:
      number: D5
      inverted: true   # RELAY_ON = LOW
    restore_mode: OFF

  - platform: gpio
    name: "Rel√© 2"
    id: rele_2
    pin:
      number: D6
      inverted: true
    restore_mode: OFF

  - platform: gpio
    name: "Rel√© 3"
    id: rele_3
    pin:
      number: D7
      inverted: true
    restore_mode: OFF
